(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(23),o=a.n(r),l=a(2),s=a(26),u=a(8),i=a(64),m=a.n(i),d=function(e){var t=e.children;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"container-fluid p-4 ".concat(m.a.layout)},t))},p=a(115),b=a(114),f=a(65),E=a.n(f),h=a(4),j=a(118),v=function(e){var t=e.show,a=e.variant,n=e.children,r=Object(h.a)(e,["show","variant","children"]);return c.a.createElement(c.a.Fragment,null,t&&c.a.createElement(j.a,Object.assign({variant:a},r),n))},O=a(67),g=a(72),y=a(46),w=a.n(y),S=a(68),C=a.n(S),N=a(28),x=a.n(N),k=function(e){var t=e.show,a=e.doc,n=e.setDocAction,r=(e.setShowActions,"".concat("https://docify.devtahsin.com","/api/docs/download/").concat(a._id));return c.a.createElement("div",null,c.a.createElement("div",{className:"".concat(x.a.options," ").concat(t?x.a.show:null)},c.a.createElement("a",{href:r,className:"".concat(x.a.option)},c.a.createElement("i",{className:"bi bi-download"}),c.a.createElement("span",{className:"ms-2"},"Download")),c.a.createElement("div",{className:"".concat(x.a.option),onClick:function(){n({type:"mail",doc:a})}},c.a.createElement("i",{className:"bi bi-envelope"}),c.a.createElement("span",{className:"ms-2"},"Mail")),c.a.createElement("div",{className:"".concat(x.a.option),onClick:function(){n({type:"edit",doc:a})}},c.a.createElement("i",{className:"bi bi-pencil"}),c.a.createElement("span",{className:"ms-2"}," Edit")),c.a.createElement("div",{className:"".concat(x.a.option),onClick:function(){n({type:"delete",doc:a})}},c.a.createElement("i",{className:"bi bi-trash"}),c.a.createElement("span",{className:"ms-2"},"Delete"))))},_=function(e){var t=e.doc,a=e.setDocAction,r=Object(n.useState)(),o=Object(l.a)(r,2),s=o[0],u=o[1],i=Object(n.useState)(),m=Object(l.a)(i,2),d=m[0],p=m[1],b=Object(n.useState)(),f=Object(l.a)(b,2),E=f[0],h=f[1],j="".concat("https://docify.devtahsin.com","/api/docs/").concat(t._id),v="".concat("https://docify.devtahsin.com","/api/docs/download/").concat(t._id),O=Object(n.useState)(!1),y=Object(l.a)(O,2),S=y[0],N=y[1],x=Object(n.useRef)();return Object(n.useEffect)(function(){return window.addEventListener("click",function(e){e.target!==x.current&&N(!1)}),function(){}},[]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"".concat(w.a.galleryItem)},c.a.createElement("div",{className:"rounded"},c.a.createElement("div",{className:"d-flex justify-content-between mt-1 mb-2 position-relative"},c.a.createElement("div",null,c.a.createElement("i",{className:"bi bi-clock me-2"}),C()(t.createdAt).format("DD MMMM YYYY")),c.a.createElement(k,{show:S,doc:t,setDocAction:a}),c.a.createElement("div",{onClick:function(){N(function(e){return!e})}},c.a.createElement("i",{className:"bi bi-three-dots-vertical",role:"button",ref:x}))),c.a.createElement("div",{className:"".concat(w.a.thumbnail_container)},c.a.createElement("img",{src:j,alt:t.title,className:"".concat(w.a.thumbnail),onClick:function(){!function(e,t){u(!0),p(e),h(t)}(j,t.title)}})),c.a.createElement("h5",{className:"my-2"},t.title))),s&&c.a.createElement(g.a,{medium:d,alt:E,showRotate:!0,downloadLink:v,onClose:function(){u(!1)}}))},I=a(69),B=a.n(I),D=a(116),L=a(32),T=c.a.createContext(),P=function(){return Object(n.useContext)(T)},A=[],G=function(e,t){switch(t.type){case"load":return[].concat(Object(L.a)(e),Object(L.a)(t.payload));case"create":return[].concat(Object(L.a)(e),[t.doc]);case"update":return e.map(function(e){return e._id!==t.payload._id?e:t.payload});case"delete":return e.filter(function(e){return e._id.toString()!==t.docId.toString()});default:return e}},F=function(e){var t=e.children,a=Object(n.useReducer)(G,A),r=Object(l.a)(a,2),o={docs:r[0],dispatchDocs:r[1]};return c.a.createElement(T.Provider,{value:o},t)},M=a(3),U=a(24),H=a.n(U),Y=a(9),R=a.n(Y),z=a(19),q=a(73),Q=function(e){var t=new Date,a=t.getTime();a+=2592e6,t.setTime(a),document.cookie="token=".concat(e,"; expires=").concat(t,"; path=/")},J=c.a.createContext(),V=function(){return Object(n.useContext)(J)},W=new q.a,K=function(e){var t=e.children,a=Object(n.useState)(),r=Object(l.a)(a,2),o=r[0],s=r[1],u="Bearer ".concat(W.get("token")),i=function(){var e=Object(z.a)(R.a.mark(function e(t){var a,n,c,r;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,n=t.password,e.prev=1,e.next=4,H.a.post("".concat("https://docify.devtahsin.com","/api/users/login"),{email:a,password:n});case 4:return c=e.sent,Q(c.data.token),(r=c.data.user)&&r._id&&r.email&&s(r),e.abrupt("return",Object(M.a)({type:"success"},c));case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",Object(M.a)({type:"error"},e.t0.response));case 14:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t){return e.apply(this,arguments)}}(),m=function(){W.remove("token"),W.remove("Docify"),s(null)},d=function(){var e=Object(z.a)(R.a.mark(function e(t){var a,n,c,r,o,l;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,n=t.email,c=t.phone,r=t.password,o=t.password2,e.prev=1,e.next=4,H.a.post("http://localhost:4000/api/users",{name:a,email:n,phone:c,password:r,password2:o});case 4:return l=e.sent,e.abrupt("return",Object(M.a)({type:"success"},l));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",Object(M.a)({type:"error"},e.t0.response));case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(z.a)(R.a.mark(function e(){var t;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.a.get("".concat("https://docify.devtahsin.com","/api/users/me"),{headers:{Authorization:u}});case 3:return t=e.sent,s(t.data.user),e.abrupt("return",Object(M.a)({type:"success"},t));case 8:e.prev=8,e.t0=e.catch(0),m();case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),b={signup:d,login:i,logout:m,getMe:p,Authorization:u,currentUser:o,setCurrentUser:s};return Object(n.useEffect)(function(){Object(z.a)(R.a.mark(function e(){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:case"end":return e.stop()}},e)}))()},[]),c.a.createElement(J.Provider,{value:b},t)},X=function(e,t,a){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=Object(n.useState)(),o=Object(l.a)(r,2),s=o[0],u=o[1],i=Object(n.useState)(!1),m=Object(l.a)(i,2),d=m[0],p=m[1],b=V(),f=b.Authorization,E=b.logout;return Object(n.useEffect)(function(){return e&&("get"===t||"delete"===t?H.a[t](a,{headers:{Authorization:f}}).then(function(e){u(Object(M.a)({type:"success"},e)),e.data.token&&Q(e.data.token)}).catch(function(e){e.response?(u(Object(M.a)({type:"error"},e.response)),401===e.response.status&&setTimeout(function(){E()},3e3)):u({type:"error",data:{message:"Something wrong happened"}})}).then(function(){p(!0)}):H.a[t](a,Object(M.a)({},c),{headers:{Authorization:f}}).then(function(e){u(Object(M.a)({type:"success"},e)),e.data.token&&Q(e.data.token)}).catch(function(e){401===e.response.status&&setTimeout(function(){E()},3e3),u(Object(M.a)({type:"error"},e.response))}).then(function(){p(!0)})),function(){p(!1)}},[e]),d&&s},Z=function(e){var t=e.show,a=e.handleClose,r=e.thumbnail,o=e.doc,s=Object(n.useState)(!1),u=Object(l.a)(s,2),i=u[0],m=u[1],d=Object(n.useState)(!1),p=Object(l.a)(d,2),f=p[0],E=p[1],h=Object(n.useState)(!1),j=Object(l.a)(h,2),O=j[0],g=j[1],y=P().dispatchDocs,w=X(i,"delete","".concat("https://docify.devtahsin.com","/api/docs/").concat(o._id));return Object(n.useEffect)(function(){return w&&("success"===w.type?(g(w.data.message),setTimeout(function(){a(),y({type:"delete",docId:o._id})},300)):E(w.data.message)),m(!1),function(){m(!1)}},[w]),c.a.createElement(D.a,{show:t,onHide:a},c.a.createElement(D.a.Header,{closeButton:!0},c.a.createElement(D.a.Title,null,c.a.createElement("h5",null,"You're about to delete: ",o.title))),c.a.createElement(D.a.Body,null,c.a.createElement(v,{variant:"danger",show:f},f),c.a.createElement(v,{variant:"success",show:O},O),c.a.createElement("p",null,"Do you really want to delete ",c.a.createElement("b",null,o.title),"?"),c.a.createElement("img",{src:r,alt:o.title,width:"200px"})),c.a.createElement(D.a.Footer,null,c.a.createElement(b.a,{variant:"secondary",onClick:a},"Cancel"),c.a.createElement(b.a,{variant:"danger",onClick:function(){m(!0)}},"Yes")))},$=a(117),ee=function(e){var t=e.show,a=e.handleClose,r=e.doc,o=Object(n.useState)(!1),s=Object(l.a)(o,2),u=s[0],i=s[1],m=Object(n.useState)(r.title),d=Object(l.a)(m,2),p=d[0],f=d[1],E=Object(n.useState)(""),h=Object(l.a)(E,2),j=h[0],O=h[1],g=Object(n.useState)(""),y=Object(l.a)(g,2),w=y[0],S=y[1],C=P().dispatchDocs,N=X(u,"put","".concat("https://docify.devtahsin.com","/api/docs/").concat(r._id),{title:p});return Object(n.useEffect)(function(){return N&&("success"===N.type?(S(N.data.message),setTimeout(function(){S(""),a(),C({type:"update",payload:N.data.doc})},300)):O(N.data.message),i(!1)),function(){i(!1)}},[N]),c.a.createElement(D.a,{show:t,onHide:a},c.a.createElement(D.a.Header,{closeButton:!0},c.a.createElement(D.a.Title,null,c.a.createElement("h5",null,"You're editing: ",r.title))),c.a.createElement(D.a.Body,null,c.a.createElement($.a,{onSubmit:function(e){if(e.preventDefault(),O(""),S(""),r.title.trim()===p.trim())return O("Nothing to update");i(!0)}},c.a.createElement(v,{variant:"danger",show:j},j),c.a.createElement(v,{variant:"success",show:w},w),c.a.createElement($.a.Group,{className:"mb-3",controlId:"formBasicTitle"},c.a.createElement($.a.Label,null,"New Title"),c.a.createElement($.a.Control,{type:"text",value:p,onChange:function(e){f(e.target.value)},placeholder:"Ex: Passport, NID..."})),c.a.createElement(b.a,{variant:"primary",type:"submit"},"Update"))))},te=function(e){var t=e.show,a=e.handleClose,r=e.doc,o=Object(n.useState)(""),s=Object(l.a)(o,2),u=s[0],i=s[1],m=Object(n.useState)(""),d=Object(l.a)(m,2),p=d[0],f=d[1],E=Object(n.useState)(""),h=Object(l.a)(E,2),j=h[0],O=h[1],g=Object(n.useState)(!1),y=Object(l.a)(g,2),w=y[0],S=y[1],C=Object(n.useState)(""),N=Object(l.a)(C,2),x=N[0],k=N[1],_=Object(n.useState)(""),I=Object(l.a)(_,2),B=I[0],L=I[1],T=r.title,P=X(w,"post","".concat("https://docify.devtahsin.com","/api/docs/mail/").concat(r._id),{receiver:u,subject:p,message:j}),A=function(e){e.preventDefault(),k(""),L(""),S(!0)};return Object(n.useEffect)(function(){return f(T),function(){f("")}},[T]),Object(n.useEffect)(function(){return P&&(P.type&&"success"===P.type?(L(P.data.message),i(""),O(""),setTimeout(function(){L(""),a()},700)):k(P.data.message)),S(!1),function(){S(!1)}},[P]),c.a.createElement(D.a,{show:t,onHide:a},c.a.createElement(D.a.Header,{closeButton:!0},c.a.createElement(D.a.Title,null,c.a.createElement("h5",null,"Mail your document"))),c.a.createElement(D.a.Body,null,c.a.createElement($.a,{onSubmit:A},c.a.createElement(v,{variant:"danger",show:x},x),c.a.createElement(v,{variant:"success",show:B},B),c.a.createElement($.a.Group,{className:"mb-3",controlId:"formBasicReceiver"},c.a.createElement($.a.Label,null,"Receiver"),c.a.createElement($.a.Control,{type:"text",placeholder:"fulan@gmail.com",value:u,onChange:function(e){i(e.target.value)}})),c.a.createElement($.a.Group,{className:"mb-3",controlId:"formBasicSubject"},c.a.createElement($.a.Label,null,"Subject"),c.a.createElement($.a.Control,{type:"text",placeholder:"Passport of Fulan Ibn Fulan",value:p,onChange:function(e){f(e.target.value)}})),c.a.createElement($.a.Group,{className:"mb-3",controlId:"formBasicMessage"},c.a.createElement($.a.Label,null,"Message"),c.a.createElement($.a.Control,{as:"textarea",placeholder:"Message",value:j,onChange:function(e){O(e.target.value)},style:{height:"100px"}}))),c.a.createElement("p",null,"* Email will be sent from: ",c.a.createElement("b",null,"docify@devtahsin.com")," ",c.a.createElement("br",null),"* Check the spam folder")),c.a.createElement(D.a.Footer,null,c.a.createElement(b.a,{variant:"primary",type:"button",onClick:A},"Send Mail"),c.a.createElement(b.a,{variant:"secondary",type:"button",onClick:a},"Cancel")))},ae=function(e){var t=e.docs,a=Object(n.useState)(!1),r=Object(l.a)(a,2),o=r[0],s=r[1],u=Object(n.useState)(!1),i=Object(l.a)(u,2),m=i[0],d=i[1],p=Object(n.useState)(!1),b=Object(l.a)(p,2),f=b[0],E=b[1],h=Object(n.useState)({title:"",_id:""}),j=Object(l.a)(h,2),v=j[0],g=j[1],y=Object(n.useState)(""),w=Object(l.a)(y,2),S=w[0],C=w[1];Object(n.useEffect)(function(){switch(S.type){case"edit":d(!0),g(S.doc);break;case"mail":E(!0),g(S.doc);break;case"delete":s(!0),g(S.doc);break;default:g({title:"",_id:""})}return function(){g({title:"",_id:""})}},[S]);var N="object"===typeof v?"".concat("https://docify.devtahsin.com","/api/docs/").concat(v._id):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"".concat(B.a.gallery)},t.map(function(e){return c.a.createElement(_,{key:Object(O.uniqueId)()*Math.random(),doc:e,setDocAction:C})})),c.a.createElement(ee,{show:m,doc:v,handleClose:function(){d(!1)}}),c.a.createElement(te,{show:f,doc:v,handleClose:function(){E(!1)}}),c.a.createElement(Z,{show:o,thumbnail:N,doc:v,handleClose:function(){s(!1)}}))},ne=function(e){var t=e.show,a=e.handleClose,r=Object(n.useState)(""),o=Object(l.a)(r,2),s=o[0],u=o[1],i=Object(n.useState)(""),m=Object(l.a)(i,2),d=m[0],p=m[1],f=Object(n.useState)(""),E=Object(l.a)(f,2),h=E[0],j=E[1],O=Object(n.useState)(""),g=Object(l.a)(O,2),y=g[0],w=g[1],S=Object(n.useState)(""),C=Object(l.a)(S,2),N=C[0],x=C[1],k=Object(n.useState)(),_=Object(l.a)(k,2),I=_[0],B=_[1],L=Object(n.useState)(),T=Object(l.a)(L,2),P=T[0],A=T[1],G=V(),F=G.currentUser,M=G.setCurrentUser,U=Object(n.useState)(!1),H=Object(l.a)(U,2),Y=H[0],R=H[1],z=function(e){e.preventDefault(),B(""),A(""),0!==y.trim().length?R(!0):B("Password is required to make any change!")},q=X(Y,"put","".concat("https://docify.devtahsin.com","/api/users/me"),{name:s,phone:h,password:y,password2:N});return Object(n.useEffect)(function(){return u(F.name),p(F.email),j(F.phone),function(){}},[F]),Object(n.useEffect)(function(){return q&&(R(!1),"error"===q.type?B(q.data.message):(A(q.data.message),delete q.data.message,M(q.data),w(""),x(""),setTimeout(function(){A()},3e3))),function(){R(!1)}},[q]),c.a.createElement(D.a,{show:t,onHide:a},c.a.createElement(D.a.Header,{closeButton:!0},c.a.createElement(D.a.Title,null,c.a.createElement("h5",null,"Assalamu Alaikum, ",F.name))),c.a.createElement(D.a.Body,null,c.a.createElement("form",{onSubmit:z},c.a.createElement(v,{variant:"danger",show:I},I),c.a.createElement(v,{variant:"success",show:P},P),c.a.createElement($.a.Group,{className:"mb-3",controlId:"formBasicName"},c.a.createElement($.a.Label,null,"Name"),c.a.createElement($.a.Control,{type:"text",placeholder:"What should we call you now?",value:s,onChange:function(e){u(e.target.value)}})),c.a.createElement($.a.Group,{className:"mb-3",controlId:"formBasicEmail"},c.a.createElement($.a.Label,null,"Email address"),c.a.createElement($.a.Control,{type:"email",placeholder:"You can't change your email",value:d,onChange:function(e){p(e.target.value)},disabled:!0}),c.a.createElement($.a.Text,{className:"text-muted"},"You can't change your email.")),c.a.createElement($.a.Group,{className:"mb-3",controlId:"formBasicPhone"},c.a.createElement($.a.Label,null,"Phone"),c.a.createElement($.a.Control,{type:"text",minLength:"11",maxLength:"11",placeholder:"Phone number must be bangladeshi",value:h,onChange:function(e){j(e.target.value)}})),c.a.createElement($.a.Group,{className:"mb-3",controlId:"formBasicCurrentPassword"},c.a.createElement($.a.Label,null,"Password"),c.a.createElement($.a.Control,{type:"password",placeholder:"Enter your Password",value:y,onChange:function(e){w(e.target.value)}})),c.a.createElement($.a.Group,{className:"mb-3",controlId:"formBasicNewPassword"},c.a.createElement($.a.Label,null,"New Password"),c.a.createElement($.a.Control,{type:"password",placeholder:"Enter new Password",value:N,onChange:function(e){x(e.target.value)}}),c.a.createElement($.a.Text,{className:"text-muted"},"Leave this empty if you do not want to change your password.")),c.a.createElement(b.a,{variant:"primary",type:"submit",onClick:z},"Update Account"))))},ce=function(e){var t=e.show,a=e.handleClose,r=Object(n.useState)(""),o=Object(l.a)(r,2),s=o[0],u=o[1],i=Object(n.useState)(),m=Object(l.a)(i,2),d=m[0],p=m[1],f=Object(n.useState)(!1),E=Object(l.a)(f,2),h=E[0],j=E[1],O=Object(n.useState)(""),g=Object(l.a)(O,2),y=g[0],w=g[1],S=Object(n.useState)(""),C=Object(l.a)(S,2),N=C[0],x=C[1],k=V().Authorization,_=P().dispatchDocs,I=function(){u(""),p(null),a()};return Object(n.useEffect)(function(){return Object(z.a)(R.a.mark(function e(){var t;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:h&&((t=new FormData).append("title",s),t.append("document",d),H.a.post("http://localhost:4000/api/docs",t,{headers:{Authorization:k,"Content-Type":"multipart/form-data"}}).then(function(e){x(e.data.message),u(""),p(null),setTimeout(function(){x(null),I(),_({type:"create",doc:e.data.doc})},300)}).catch(function(e){w(e.response.data.message),401===e.response.status&&(window.location.href="/")}));case 1:case"end":return e.stop()}},e)}))(),function(){j(!1)}},[h]),c.a.createElement(D.a,{show:t,onHide:I},c.a.createElement(D.a.Header,{closeButton:!0},c.a.createElement(D.a.Title,null,c.a.createElement("h5",null,"Add new document"))),c.a.createElement(D.a.Body,null,c.a.createElement($.a,{onSubmit:function(e){if(e.preventDefault(),j(!1),w(""),!s||!d)return w("Please give a title and select a file");j(!0)}},c.a.createElement(v,{variant:"danger",show:y},y),c.a.createElement(v,{variant:"success",show:N},N),c.a.createElement($.a.Group,{className:"mb-3",controlId:"formBasicTitle"},c.a.createElement($.a.Label,null,"Document Title"),c.a.createElement($.a.Control,{type:"text",placeholder:"Ex: Passport, NID...",value:s,onChange:function(e){u(e.target.value)}})),c.a.createElement($.a.Group,{className:"mb-3",controlId:"formBasicTitle"},c.a.createElement($.a.Label,null,"Select File"),c.a.createElement($.a.Control,{type:"file",onChange:function(e){p(e.target.files[0])}})),c.a.createElement(b.a,{variant:"primary",type:"submit"},"Upload"))))},re=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),s=Object(l.a)(o,2),u=s[0],i=s[1],m=Object(n.useState)(!1),d=Object(l.a)(m,2),f=d[0],h=d[1],j=Object(n.useState)(!1),O=Object(l.a)(j,2),g=O[0],y=O[1],w=V().logout,S=P(),C=S.docs,N=S.dispatchDocs,x=X(f,"post","".concat("https://docify.devtahsin.com","/api/users/logout")),k=X(g,"get","".concat("https://docify.devtahsin.com","/api/docs/"));return Object(n.useEffect)(function(){return x&&"success"===x.type&&w(),function(){h(!1)}},[x]),Object(n.useEffect)(function(){if(k&&"success"===k.type){var e=k.data.docs;k.data.docs.length>0&&N({type:"load",payload:e}),y(!1)}return function(){y(!1)}},[k]),Object(n.useEffect)(function(){return y(!0),function(){y(!1)}},[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a,{fluid:!0,className:"rounded d-flex align-items-center justify-content-center"},c.a.createElement(p.a,{className:"text-light rounded p-2 ".concat(E.a.dashboard)},c.a.createElement("div",{className:"d-flex justify-content-between"},c.a.createElement("h4",null,"Dashboard"),c.a.createElement("div",null,c.a.createElement(b.a,{className:"ms-2",variant:"light",onClick:function(){i(!0)}},c.a.createElement("i",{className:"bi bi-plus-circle"})),c.a.createElement(b.a,{variant:"light",className:"ms-2",onClick:function(){r(!0)}},c.a.createElement("i",{className:"bi bi-person"})),c.a.createElement(b.a,{className:"ms-2",variant:"light",onClick:function(){h(!0)}},c.a.createElement("i",{className:"bi bi-box-arrow-right"})))),c.a.createElement("hr",null),c.a.createElement(v,{variant:"secondary",show:C&&C.length<1},"No document uploaded yet"),c.a.createElement(ae,{docs:C}))),c.a.createElement(ne,{show:a,handleClose:function(){r(!1)}}),c.a.createElement(ce,{show:u,handleClose:function(){i(!1)}}))},oe=a(43),le=a.n(oe),se=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(""),i=Object(l.a)(o,2),m=i[0],d=i[1],f=Object(n.useState)(!1),E=Object(l.a)(f,2),h=E[0],j=E[1],O=Object(n.useState)(!1),g=Object(l.a)(O,2),y=g[0],w=g[1],S=Object(n.useState)(""),C=Object(l.a)(S,2),N=C[0],x=C[1],k=Object(n.useState)(""),_=Object(l.a)(k,2),I=_[0],B=_[1],D=Object(n.useState)(),L=Object(l.a)(D,2),T=L[0],P=L[1],A=Object(u.g)(),G=V().login;return Object(n.useEffect)(function(){return Object(z.a)(R.a.mark(function e(){var t;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!T){e.next=11;break}return e.prev=1,e.next=4,G({email:a,password:m});case 4:"error"===(t=e.sent).type?(j(!0),x(t.data.message),P(!1)):(w(!0),B(t.data.message),setTimeout(function(){w(!1),B(null),A.push("/")},1e3)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}},e,null,[[1,8]])}))(),function(){P(!1)}},[T]),c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a,{className:"my-2 rounded d-flex align-items-center justify-content-center"},c.a.createElement($.a,{className:"".concat(le.a.formCard," bg-white p-4 rounded"),onSubmit:function(e){if(e.preventDefault(),P(!1),j(!1),w(!1),x(""),B(""),!a||!m)return j(!0),void x("All fields are required!");P(!0)}},c.a.createElement("h2",{className:"text-center"},"Docify"),c.a.createElement("p",{className:"text-center"},"An address for your documents"),c.a.createElement("hr",null),c.a.createElement(v,{variant:"danger",show:h},N),c.a.createElement(v,{variant:"success",show:y},I),c.a.createElement("h4",null,"Login"),c.a.createElement($.a.Group,{className:"mb-3",controlId:"formBasicEmail"},c.a.createElement($.a.Label,null,"Email"),c.a.createElement($.a.Control,{type:"email",placeholder:"Enter your email",value:a,onChange:function(e){r(e.target.value)}})),c.a.createElement($.a.Group,{className:"mb-3",controlId:"formBasicPassword"},c.a.createElement($.a.Label,null,"Password"),c.a.createElement($.a.Control,{type:"password",placeholder:"Enter your password",value:m,onChange:function(e){d(e.target.value)}})),c.a.createElement("div",null,c.a.createElement("span",null,"Don't have an account? "),c.a.createElement(s.b,{to:"/signup"},"Sign up")),c.a.createElement(b.a,{variant:"primary",type:"submit"},"Login"))))},ue=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(""),i=Object(l.a)(o,2),m=i[0],d=i[1],f=Object(n.useState)(""),E=Object(l.a)(f,2),h=E[0],j=E[1],O=Object(n.useState)(""),g=Object(l.a)(O,2),y=g[0],w=g[1],S=Object(n.useState)(""),C=Object(l.a)(S,2),N=C[0],x=C[1],k=Object(n.useState)(!1),_=Object(l.a)(k,2),I=_[0],B=_[1],D=Object(n.useState)(!1),L=Object(l.a)(D,2),T=L[0],P=L[1],A=Object(n.useState)(""),G=Object(l.a)(A,2),F=G[0],M=G[1],U=Object(n.useState)(""),H=Object(l.a)(U,2),Y=H[0],q=H[1],Q=Object(n.useState)(),J=Object(l.a)(Q,2),W=J[0],K=J[1],X=Object(u.g)(),Z=V().signup,ee=function(){var e=Object(z.a)(R.a.mark(function e(t){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),B(!1),P(!1),M(""),q(""),a&&m&&h&&y&&N){e.next=9;break}return B(!0),M("All fields are required!"),e.abrupt("return");case 9:K(!0);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){return Object(z.a)(R.a.mark(function e(){var t;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!W){e.next=11;break}return e.prev=1,e.next=4,Z({name:a,email:m,phone:h,password:y,password2:N});case 4:"error"===(t=e.sent).type?(B(!0),M(t.data.message),K(!1)):(P(!0),q(t.data.message),setTimeout(function(){P(!1),q(null),X.push("/login")},1500)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}},e,null,[[1,8]])}))(),function(){K(!1)}},[W]),c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a,{className:"my-2 rounded d-flex align-items-center justify-content-center"},c.a.createElement($.a,{className:"".concat(le.a.formCard," bg-white p-4 rounded"),onSubmit:ee},c.a.createElement("h2",{className:"text-center"},"Docify"),c.a.createElement("p",{className:"text-center"},"An address for your documents"),c.a.createElement("hr",null),c.a.createElement("h4",null,"Sign up"),c.a.createElement(v,{variant:"danger",show:I},F),c.a.createElement(v,{variant:"success",show:T},Y),c.a.createElement($.a.Group,{className:"mb-3",controlId:"formBasicName"},c.a.createElement($.a.Label,null,"Your Name"),c.a.createElement($.a.Control,{type:"text",placeholder:"Enter your name",value:a,onChange:function(e){r(e.target.value)}})),c.a.createElement($.a.Group,{className:"mb-3",controlId:"formBasicEmail"},c.a.createElement($.a.Label,null,"Email"),c.a.createElement($.a.Control,{type:"email",placeholder:"Enter your email",value:m,onChange:function(e){d(e.target.value)}})),c.a.createElement($.a.Group,{className:"mb-3",controlId:"formBasicPhone"},c.a.createElement($.a.Label,null,"Phone"),c.a.createElement($.a.Control,{type:"text",placeholder:"Enter your phone",value:h,onChange:function(e){j(e.target.value)}})),c.a.createElement($.a.Group,{className:"mb-3",controlId:"formBasicPassword"},c.a.createElement($.a.Label,null,"Password"),c.a.createElement($.a.Control,{type:"password",placeholder:"Enter your password",value:y,onChange:function(e){w(e.target.value)}})),c.a.createElement($.a.Group,{className:"mb-3",controlId:"formBasicRepeatPassword"},c.a.createElement($.a.Label,null,"Repeat Password"),c.a.createElement($.a.Control,{type:"password",placeholder:"Repeat your password",value:N,onChange:function(e){x(e.target.value)}})),c.a.createElement("div",null,c.a.createElement("span",null,"Already have an account? "),c.a.createElement(s.b,{to:"/login"},"Login")),c.a.createElement(b.a,{variant:"primary",type:"submit"},"Sign up"))))};var ie=function(e){var t=e.component,a=Object(h.a)(e,["component"]),n=V().currentUser;return n&&n._id&&n.email?c.a.createElement(u.b,a,function(e){return c.a.createElement(t,e)}):c.a.createElement(u.a,{to:"/login"})};var me=function(e){var t=e.component,a=Object(h.a)(e,["component"]);return V().currentUser?c.a.createElement(u.a,{to:"/"}):c.a.createElement(u.b,a,function(e){return c.a.createElement(t,e)})},de=(a(107),function(){var e=V().setCurrentUser,t=Object(n.useState)(!1),a=Object(l.a)(t,2),r=a[0],o=a[1],i=X(r,"get","".concat("https://docify.devtahsin.com","/api/users/me"));return Object(n.useEffect)(function(){return o(!0),function(){o(!1)}},[]),Object(n.useEffect)(function(){return i&&i.data&&e(i.data.user),function(){}},[i]),c.a.createElement(F,null,c.a.createElement(s.a,null,c.a.createElement(d,null,c.a.createElement(u.d,null,c.a.createElement(ie,{exact:!0,path:"/",component:re}),c.a.createElement(me,{exact:!0,path:"/login",component:se}),c.a.createElement(me,{exact:!0,path:"/signup",component:ue})))))});a(108),a(109),a(110),a(111);o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(K,null,c.a.createElement(de,null))),document.getElementById("root"))},28:function(e,t,a){e.exports={options:"Options_options__3Qa42",show:"Options_show__3T3gE",option:"Options_option__3Q2-v"}},43:function(e,t,a){e.exports={formCard:"FormCard_formCard__1sSnc"}},46:function(e,t,a){e.exports={galleryItem:"GalleryItem_galleryItem__hyjVQ",thumbnail_container:"GalleryItem_thumbnail_container__2Q3ym",thumbnail:"GalleryItem_thumbnail__2jFa5"}},64:function(e,t,a){e.exports={layout:"Layout_layout__2EAUG"}},65:function(e,t,a){},69:function(e,t,a){e.exports={gallery:"Gallery_gallery__2hrU6"}},74:function(e,t,a){e.exports=a(112)}},[[74,1,2]]]);
//# sourceMappingURL=main.65ead8e2.chunk.js.map